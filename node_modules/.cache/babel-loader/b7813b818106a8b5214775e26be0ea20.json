{"ast":null,"code":"var _jsxFileName = \"/Users/hanselreynoso/Desktop/code-immersives/wd202/fullstackblog/fullstackbloggerfrontend/src/Pages/BlogsManager.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState } from \"react\";\nimport BlogManagerCard from \"../components/BlogManagerCard\";\nimport Modal from \"../components/Modal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BlogManager = _ref => {\n  _s();\n\n  let {\n    adminBlogList,\n    deleteBlog,\n    fetchSingleBlog,\n    urlEndpoint,\n    setAdminBlogsLoading\n  } = _ref;\n  const [showModal, setShowModal] = useState(false);\n  const [editTitle, setEditTitle] = useState(\"\");\n  const [editAuthor, setEditAuthor] = useState(\"\");\n  const [editText, setEditText] = useState(\"\");\n  const [editBlogId, setEditBlogId] = useState(null);\n  const [editCategory, setEditCategory] = useState(\"\");\n\n  const putUpdatedBlog = async () => {\n    setAdminBlogsLoading(true);\n    const url = `${urlEndpoint}/admin/edit-blog`;\n    const response = await fetch(url, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        id: editBlogId,\n        title: editTitle,\n        author: editAuthor,\n        text: editText,\n        category: editCategory\n      })\n    });\n    const responseJSON = await response.json();\n    setAdminBlogsLoading(false);\n    return responseJSON;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Blog Manager\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: editTitle,\n      onClose: () => setShowModal(false),\n      show: showModal,\n      putUpdatedBlog: putUpdatedBlog,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: editTitle,\n        onChange: e => {\n          setEditTitle(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Author\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: editAuthor,\n        onChange: e => {\n          setEditAuthor(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: editCategory,\n        onChange: e => {\n          setEditCategory(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: editText,\n        onChange: e => {\n          setEditText(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), adminBlogList.map(blog => {\n      const fetchBlogAndShow = async () => {\n        const blogPost = await fetchSingleBlog(blog.id);\n        setEditTitle(blogPost.title);\n        setEditAuthor(blogPost.author);\n        setEditText(blogPost.text);\n        setEditBlogId(blogPost.id);\n        setEditCategory(blogPost.category);\n        setShowModal(true);\n      };\n\n      return /*#__PURE__*/_jsxDEV(BlogManagerCard, {\n        blog: blog,\n        deleteBlog: deleteBlog,\n        fetchBlogAndShow: fetchBlogAndShow\n      }, blog.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n\n_s(BlogManager, \"VXW0nviKLsoAhQImXPrtDVGMy6o=\");\n\n_c = BlogManager;\nexport default BlogManager;\n\nvar _c;\n\n$RefreshReg$(_c, \"BlogManager\");","map":{"version":3,"names":["React","useState","BlogManagerCard","Modal","BlogManager","adminBlogList","deleteBlog","fetchSingleBlog","urlEndpoint","setAdminBlogsLoading","showModal","setShowModal","editTitle","setEditTitle","editAuthor","setEditAuthor","editText","setEditText","editBlogId","setEditBlogId","editCategory","setEditCategory","putUpdatedBlog","url","response","fetch","method","headers","body","JSON","stringify","id","title","author","text","category","responseJSON","json","e","target","value","map","blog","fetchBlogAndShow","blogPost"],"sources":["/Users/hanselreynoso/Desktop/code-immersives/wd202/fullstackblog/fullstackbloggerfrontend/src/Pages/BlogsManager.js"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport BlogManagerCard from \"../components/BlogManagerCard\";\nimport Modal from \"../components/Modal\";\n\nconst BlogManager = ({\n  adminBlogList,\n  deleteBlog,\n  fetchSingleBlog,\n  urlEndpoint,\n  setAdminBlogsLoading,\n}) => {\n  const [showModal, setShowModal] = useState(false);\n  const [editTitle, setEditTitle] = useState(\"\");\n  const [editAuthor, setEditAuthor] = useState(\"\");\n  const [editText, setEditText] = useState(\"\");\n  const [editBlogId, setEditBlogId] = useState(null);\n  const [editCategory, setEditCategory] = useState(\"\");\n\n  const putUpdatedBlog = async () => {\n    setAdminBlogsLoading(true);\n    const url = `${urlEndpoint}/admin/edit-blog`;\n    const response = await fetch(url, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        id: editBlogId,\n        title: editTitle,\n        author: editAuthor,\n        text: editText,\n        category: editCategory,\n      }),\n    });\n    const responseJSON = await response.json();\n    setAdminBlogsLoading(false);\n\n    return responseJSON;\n  };\n\n  return (\n    <div>\n      <h1>Blog Manager</h1>\n      <Modal\n        title={editTitle}\n        onClose={() => setShowModal(false)}\n        show={showModal}\n        putUpdatedBlog={putUpdatedBlog}\n      >\n        <label>Title</label>\n        <input\n          type=\"text\"\n          value={editTitle}\n          onChange={(e) => {\n            setEditTitle(e.target.value);\n          }}\n        />\n        <br></br>\n\n        <label>Author</label>\n        <input\n          type=\"text\"\n          value={editAuthor}\n          onChange={(e) => {\n            setEditAuthor(e.target.value);\n          }}\n        ></input>\n        <br></br>\n\n        <label>Category</label>\n        <input\n          type=\"text\"\n          value={editCategory}\n          onChange={(e) => {\n            setEditCategory(e.target.value);\n          }}\n        ></input>\n        <br></br>\n\n        <label>Text</label>\n        <textarea\n          value={editText}\n          onChange={(e) => {\n            setEditText(e.target.value);\n          }}\n        ></textarea>\n      </Modal>\n\n      {adminBlogList.map((blog) => {\n        const fetchBlogAndShow = async () => {\n          const blogPost = await fetchSingleBlog(blog.id);\n          setEditTitle(blogPost.title);\n          setEditAuthor(blogPost.author);\n          setEditText(blogPost.text);\n          setEditBlogId(blogPost.id);\n          setEditCategory(blogPost.category);\n          setShowModal(true);\n        };\n        return (\n          <BlogManagerCard\n            blog={blog}\n            deleteBlog={deleteBlog}\n            fetchBlogAndShow={fetchBlogAndShow}\n            key={blog.id}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nexport default BlogManager;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}